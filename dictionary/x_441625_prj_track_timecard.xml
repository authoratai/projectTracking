<?xml version="1.0" encoding="UTF-8"?><database>
    <element label="Timecard" max_length="40" name="x_441625_prj_track_timecard" sizeclass="18" type="collection">
        <element calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;var total_allocation = 0.00;&#13;&#10;&#9;var grAlloc = new GlideRecord('x_441625_prj_track_allocation');&#13;&#10;&#9;grAlloc.addQuery('timecard', current.sys_id);&#13;&#10;&#9;grAlloc.query();&#13;&#10;&#9;while (grAlloc.next()) {&#13;&#10;&#9;&#9;total_allocation = total_allocation + grAlloc.hours_allocated;&#13;&#10;&#9;}&#9;&#13;&#10;&#9;return total_allocation;&#13;&#10;&#9;&#13;&#10;})(current);" label="Total allocation" max_length="20" name="allocation" type="decimal" virtual="true"/>
        <element attributes="target_field=percent_complete_target,target_threshold_colors=0:maroon;40:tomato;50:#FF9900;60:#FFFF66;70:khaki;85:lightgreen;100:#00A000" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;var alloc = current.allocation;&#13;&#10;&#9;var pct = 0;&#13;&#10;&#9;var tw = 0;&#13;&#10;&#9;var grTw = new GlideRecord('x_441625_prj_track_time_worked');&#13;&#10;&#9;grTw.addQuery('timecard',current.sys_id);&#13;&#10;&#9;grTw.query();&#13;&#10;&#9;while (grTw.next()) {&#13;&#10;&#9;&#9;tw = tw + grTw.hours;&#13;&#10;&#9;}&#13;&#10;&#9;pct = (tw * 100) / alloc;&#13;&#10;&#9;return pct;&#13;&#10;&#13;&#10;})(current);" label="Meet Allocation Expectation" max_length="15" name="allocation_expectation" type="percent_complete" virtual="true"/>
        <element calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;var total_allocation = 0.00;&#13;&#10;&#9;var grAlloc = new GlideRecord('x_441625_prj_track_allocation');&#13;&#10;&#9;grAlloc.addQuery('timecard', current.sys_id);&#13;&#10;&#9;grAlloc.addQuery('project.billable', true);&#13;&#10;&#9;grAlloc.query();&#13;&#10;&#9;while (grAlloc.next()) {&#13;&#10;&#9;&#9;total_allocation = total_allocation + grAlloc.hours_allocated;&#13;&#10;&#9;}&#9;&#13;&#10;&#9;return total_allocation;&#13;&#10;&#13;&#10;})(current);" label="Billable Allocation" max_length="20" name="billable" type="decimal" virtual="true"/>
        <element attributes="target_field=percent_complete_target,target_threshold_colors=0:maroon;40:tomato;50:#FF9900;60:#FFFF66;70:khaki;85:lightgreen;100:#00A000" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;var bill = current.billable;&#13;&#10;&#9;var pct = 0;&#13;&#10;&#9;var tw = 0;&#13;&#10;&#9;var grTw = new GlideRecord('x_441625_prj_track_time_worked');&#13;&#10;&#9;grTw.addQuery('timecard',current.sys_id);&#13;&#10;&#9;grTw.addQuery('billable', true);&#13;&#10;&#9;grTw.query();&#13;&#10;&#9;while (grTw.next()) {&#13;&#10;&#9;&#9;tw = tw + grTw.hours;&#13;&#10;&#9;}&#13;&#10;&#9;pct = (tw * 100) / bill;&#13;&#10;&#9;return pct;&#13;&#10;&#13;&#10;})(current);" label="Meet Billable Expectation" max_length="15" name="billable_expectation" type="percent_complete" virtual="true"/>
        <element label="Billable hours" max_length="20" name="billable_hours" type="decimal"/>
        <element label="Comments" max_length="4000" name="comments" type="journal"/>
        <element attributes="target_field=percent_complete_target,target_threshold_colors=0:maroon;40:tomato;50:#FF9900;60:#FFFF66;70:khaki;85:lightgreen;100:#00A000" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#9;var hrs = current.total_hours;&#13;&#10;&#9;var pct = 0;&#13;&#10;&#9;pct = (hrs * 100) / 40;&#9;&#13;&#10;&#9;return pct;&#13;&#10;})(current);" label="Timecard completion" max_length="15" name="completion" type="percent_complete" virtual="true"/>
        <element label="End date" max_length="40" name="end_date" type="glide_date"/>
        <element label="Friday" max_length="20" name="friday" type="decimal"/>
        <element label="Monday" max_length="20" name="monday" type="decimal"/>
        <element label="Non-billable hours" max_length="20" name="non_billable_hours" type="decimal"/>
        <element label="Saturday" max_length="20" name="saturday" type="decimal"/>
        <element default="javascript: new projectUtilizationUtils().getWeekStart();" label="Start date" max_length="40" name="start_date" type="glide_date"/>
        <element label="Sunday" max_length="20" name="sunday" type="decimal"/>
        <element label="Thursday" max_length="20" name="thursday" type="decimal"/>
        <element label="Total hours" max_length="20" name="total_hours" type="decimal"/>
        <element label="Tuesday" max_length="20" name="tuesday" type="decimal"/>
        <element label="Wednesday" max_length="20" name="wednesday" type="decimal"/>
        <element display="true" label="Week" mandatory="true" max_length="15" name="week" type="string"/>
    </element>
</database>
